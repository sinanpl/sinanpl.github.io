<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>sinanpl&#39;s Github blog</title>
<link>https://sinanpl.github.io/index.html</link>
<atom:link href="https://sinanpl.github.io/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.3.450</generator>
<lastBuildDate>Mon, 09 Sep 2024 22:00:00 GMT</lastBuildDate>
<item>
  <title>Multiple git accounts on one device</title>
  <link>https://sinanpl.github.io/posts/2024-09-manage-multiple-git-accounts/index.html</link>
  <description><![CDATA[ 



<p>The notes below are guidelines I documented for myself in the future after consulting mainly <a href="https://dev.to/fedekau/automatically-managing-personal-and-work-git-configurations-27ad">this post</a> and its comments suggesting improvements. This is especially useful if you want to set-up multiple work / personal git accounts on one device as smoothly as possible (i.e.&nbsp;no hassles regarding private repo authorisation, account-level git settings, account-level commit metadata etc.).</p>
<p>Let’s go through an example.</p>
<hr>
<section id="aim" class="level3">
<h3 class="anchored" data-anchor-id="aim">Aim</h3>
<p>The aim of a smooth git setup is twofold</p>
<p><strong>1) Authorization for private repos</strong><br>
You should be able to interact with private repos using the right authorization key. For example, if you want to clone a private personal or work repo, git should know what SSH to use.</p>
<p><strong>2) Configuration of git behavior</strong><br>
Git should use the right configuration depending on the work / personal account. For example, if you are working on a work project, git should behave with different options related to merge strategy, commit metadata (email, username) etc.</p>
</section>
<section id="folder-setup" class="level3">
<h3 class="anchored" data-anchor-id="folder-setup">Folder setup</h3>
<p>To select the correct authorization keys and configuration settings, work and personal projects should be organized into separate directories, as shown below</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb1-1">/Users/sinan</span>
<span id="cb1-2">├── work</span>
<span id="cb1-3">│   ├── ml_project</span>
<span id="cb1-4">│   └── rag_app</span>
<span id="cb1-5">└─- personal</span>
<span id="cb1-6">    ├── learnings</span>
<span id="cb1-7">    └── ds_utils_pkg</span></code></pre></div>
</section>
<section id="ssh-keys-and-configuration" class="level3">
<h3 class="anchored" data-anchor-id="ssh-keys-and-configuration">SSH keys and configuration</h3>
<p>Create an SSH key for both accounts.</p>
<blockquote class="blockquote">
<p>Note that you could use a single key for multiple accounts, but this is not recommended as it complicates access management and key rotation.</p>
</blockquote>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> ~/.ssh/work</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> ~/.ssh/personal</span></code></pre></div>
<p>Next, create an SSH config file that points to the correct SSH keys</p>
<p><code>~/.ssh/config</code></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> github.com-personal</span>
<span id="cb3-2">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> github.com</span>
<span id="cb3-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> sinanpl</span>
<span id="cb3-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/personal</span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> github.com-work</span>
<span id="cb3-7">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> github.com</span>
<span id="cb3-8">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> sinan-work</span>
<span id="cb3-9">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/work</span></code></pre></div>
<p>At this point, you will be able to interact with private repos by using the work or personal host. Let’s say you have a private repo in your personal account you want to pull, you can use <code>git clone git@<mark>github.com-personal</mark>:sinanpl/ds_utils_pkg.git</code>. Similarly, you can use the <code>github.com-work</code> suffix for pulling private work repos. This is not ideal, but it can be improved in the following steps.</p>
</section>
<section id="account-level-git-config" class="level3">
<h3 class="anchored" data-anchor-id="account-level-git-config">Account-level <code>git</code> config</h3>
<p>Create separate <code>.git.conf</code> files for your work and personal account such that</p>
<ol type="1">
<li>the host can be altered from <code>github.com-xxx</code> to <code>github.com</code></li>
<li>the account level settings can be configured such as:
<ul>
<li>user name</li>
<li>user email</li>
<li>merge strategy</li>
<li>default branch name</li>
<li>…</li>
</ul></li>
</ol>
<p>In the end, the files should look like:</p>
<p><code>~/personal/.git.conf</code></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb4-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[url "git@github.com-personal"]</span></span>
<span id="cb4-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">  insteadOf </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> git@github.com</span></span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[user]</span></span>
<span id="cb4-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">  email </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> sinan@mail.com</span></span></code></pre></div>
<p><code>~/work/.git.conf</code></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb5-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[url "git@github.com-personal"]</span></span>
<span id="cb5-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">  insteadOf </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> git@github.com</span></span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[user]</span></span>
<span id="cb5-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">  email </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> sinan@work.com</span></span>
<span id="cb5-6"></span>
<span id="cb5-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># example option</span></span>
<span id="cb5-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [pull]</span></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   rebase = false</span></span></code></pre></div>
</section>
<section id="global-git-configuration" class="level3">
<h3 class="anchored" data-anchor-id="global-git-configuration">Global <code>git</code> configuration</h3>
<p>Finally, you want to have a global configuration that dispatches to the correct configuration (and authorization) when working from a specific folder.</p>
<p>Create or update your global with the following</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[includeIf "gitdir:~/work/"]</span></span>
<span id="cb6-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">    path </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> ~/work/.git.conf</span></span>
<span id="cb6-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[includeIf "gitdir:~/personal/"]</span></span>
<span id="cb6-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">    path </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> ~/personal/.git.conf</span></span></code></pre></div>
</section>
<section id="result" class="level3">
<h3 class="anchored" data-anchor-id="result">Result</h3>
<ul>
<li>Authorisation for work and personal accounts is separated</li>
<li>Cloning a private work repo from within your personal folder is not possible and vice versa.</li>
<li>Cloning private repos from the work or personal host no longer requires a suffix.</li>
<li>Git behaves differently depending on account specification</li>
</ul>


</section>

 ]]></description>
  <category>git</category>
  <guid>https://sinanpl.github.io/posts/2024-09-manage-multiple-git-accounts/index.html</guid>
  <pubDate>Mon, 09 Sep 2024 22:00:00 GMT</pubDate>
  <media:content url="https://sinanpl.github.io/posts/2024-09-manage-multiple-git-accounts/dall-e.webp" medium="image" type="image/webp"/>
</item>
<item>
  <title>Hypothesis testing in organizational settings</title>
  <link>https://sinanpl.github.io/posts/2023-01-p-values-org-setting/index.html</link>
  <description><![CDATA[ 



<p>Hypothesis testing is a fundamental concept in analytics, often taught early in educational programs. However, in organizational settings it is crucial not to rely solely on p-values for drawing inferences.</p>
<section id="significance-testing-in-a-nutshell" class="level3">
<h3 class="anchored" data-anchor-id="significance-testing-in-a-nutshell">Significance Testing in a Nutshell</h3>
<p>Significance testing can be summarized in the following steps:</p>
<ol type="1">
<li><p>Formulate a ‘null hypothesis’: Define the expected values for the test statistic, assuming that there is no effect.</p></li>
<li><p>Evaluate the extent to which the observed sample statistic deviates from the expected values. If the deviation is substantial, the null hypothesis will be rejected.</p></li>
<li><p>The decision to accept or reject the null hypothesis also depends on the chosen significance level, which represents the willingness to accept the alternative hypothesis.</p></li>
</ol>
</section>
<section id="challenges-in-organizational-contexts" class="level3">
<h3 class="anchored" data-anchor-id="challenges-in-organizational-contexts">Challenges in Organizational Contexts</h3>
<p>Hypothesis testing offers valuable insights, but its utility may diminish under certain conditions. Particularly in organizational contexts, possessing complete organizational data or a large sample makes inference based on p-values less appropriate.</p>
<section id="complete-organizational-data" class="level4">
<h4 class="anchored" data-anchor-id="complete-organizational-data">Complete Organizational Data</h4>
<p>Consider a scenario where you want to test if the average age in your organization deviates from an industry benchmark. Assuming you have the ages of all employees within your organization, you essentially have the entire population of interest, which removes the need for hypothesis testing and estimation. P-values lose their relevance as uncertainty is eliminated, allowing for direct calculation of precise population parameters. This ensures accurate conclusions and decision-making without the inherent limitations of p-values.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://sinanpl.github.io/posts/2023-01-p-values-org-setting/image.png" class="img-fluid figure-img" style="width:50.0%"></p>
</figure>
</div>
</section>
<section id="large-samples" class="level4">
<h4 class="anchored" data-anchor-id="large-samples">Large samples</h4>
<p>P-values are sensitive to sample size. Large samples may yield statistically significant results even when the effect size is negligible and practically insignificant. Consequently, relying exclusively on p-values in such cases could lead to misleading conclusions and unwarranted actions, while overlooking the practical relevance and actual impact of the observed effect.</p>
</section>
</section>
<section id="solution-incorporate-effect-sizes" class="level3">
<h3 class="anchored" data-anchor-id="solution-incorporate-effect-sizes">Solution: Incorporate Effect Sizes</h3>
<p>Effect sizes offer valuable insights into the practical importance of findings by quantifying the magnitude of relationships. Including effect sizes alongside p-values in analyses enables more meaningful interpretations, ensuring that statistically significant results are also assessed for their real-world impact. This promotes informed decision-making and better-targeted interventions.</p>
<p>Examples of effect sizes include:</p>
<ul>
<li><p>Cohen’s d: Quantifies the difference between two group means, typically used in t-tests.</p></li>
<li><p>Correlation coefficient: Measures the strength and direction of a linear relationship between two numeric variables.</p></li>
<li><p>Eta-squared (η²): Measures the proportion of total variance in the dependent variable attributable to the effect of one of the independent variables.</p></li>
</ul>
<hr>
<p>The above covers some key ideas of a post I collaborated on with my colleague <a href="https://be.linkedin.com/in/maarten-de-schryver-02b0306">Maarten</a>. Check out this <a href="https://medium.com/@maartendeschryver/why-you-should-avoid-p-values-when-examining-the-gender-pay-gap-c96e6477a246">post</a> which discusses how it applies to rewards analytics and the pay gap.</p>


</section>

 ]]></description>
  <category>statistics</category>
  <guid>https://sinanpl.github.io/posts/2023-01-p-values-org-setting/index.html</guid>
  <pubDate>Mon, 23 Jan 2023 23:00:00 GMT</pubDate>
  <media:content url="https://sinanpl.github.io/posts/2023-01-p-values-org-setting/image.png" medium="image" type="image/png" height="133" width="144"/>
</item>
<item>
  <title>Where does your name come from?</title>
  <link>https://sinanpl.github.io/posts/2022-12-name-origin/index.html</link>
  <description><![CDATA[ 



<blockquote class="blockquote">
<p>Hi Sinan,</p>
<p>This month we bring the most inspiring productions from Turkish cinema.</p>
<p>…</p>
<p><em>Yakında görüşürüz</em><br>
The Kinepolis Team</p>
</blockquote>
<p>This is an excerpt from a mail I received from the Belgian cinema chain Kinepolis this week. I have never been to a Turkish movie at Kinepolis nor indicated such preference in my account, yet, Kinepolis correctly <strong>inferred the origin of my name</strong> being Turkish.</p>
<p>I was quite amused with this. Mostly because of this anecdote confirming my belief that a <strong>surname gives away quite some information</strong> on one’s <strong>cultural origin</strong>. Did you know that <a href="https://focusonbelgium.be/en/facts/did-you-know-ludwig-van-beethovens-roots-lie-mechelen">Ludwig <em>van</em> Beethoven’s roots lie in Mechelen, Belgium</a>?</p>
<section id="the-study-of-names" class="level3">
<h3 class="anchored" data-anchor-id="the-study-of-names">The study of names</h3>
<p>The study of individual’s names is referred to as <em>anthroponymy</em>. Activities within this field include classifying names with regards to gender and ethnicity to even tracing historical information.</p>
<p>Before the availability of contemporary NLP techniques, classification was mostly limited to database retrieval of known assocations between names and attributes.</p>
<p>More recently, researchers started to used machine learning models that learn <strong>assocations</strong> between <strong>character patterns</strong> in names and attributes such as gender, ethnicity etc.</p>
<p>I think two simple aspects give tells on the origin of a name: unique characters and common affixes.</p>
<section id="unique-characters" class="level4">
<h4 class="anchored" data-anchor-id="unique-characters">Unique characters</h4>
<p>In first place, the occurrence of characters unique to a region is a big tell on the origin of a name. As the figure below illustrates, alphabets differ by region. And even when the same alphabet is used, sometimes there are minor differences in the presence of specific characters.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://sinanpl.github.io/posts/2022-12-name-origin/https:/upload.wikimedia.org/wikipedia/commons/thumb/a/aa/World_alphabets_%26_writing_systems.svg/1920px-World_alphabets_%26_writing_systems.svg.png" title="World's writing systems" class="img-fluid figure-img"></p>
</figure>
</div>
<p>If one would wonder the cultural origin of <strong>حكيم زياش</strong> (<em>Hakim Ziyech</em>), the Arabic characters significantly narrow the possible options. The similar holds for <strong>Weiß</strong>, as the ß (<em>Eszett</em>) is unique to the German language.</p>
<p>This is quite obvious, but not very informative for the majority of names.</p>
</section>
<section id="common-affixes" class="level4">
<h4 class="anchored" data-anchor-id="common-affixes">Common affixes</h4>
<p>More relevant are the frequently occurring affixes in surnames. Sometimes, surnames have prefixes / suffixes that point towards a language / region. This list of <a href="https://en.wikipedia.org/wiki/List_of_family_name_affixes">common name affixes</a> is longer than you might imagine.</p>
<p>Simply, ‘son of’ already has &gt;40 matches that characterise a language/region. A few examples, all denoting “son of”:</p>
<ul>
<li>Ben * (Arabic, Hebrew)</li>
<li>De * (Italian)</li>
<li>*dze (Georgian)</li>
<li>*escu (Romanian)</li>
<li>*ian (Armenian, Persian)</li>
<li>*ūnas (Lithuanian)</li>
<li>*oğlu (Turkish)</li>
</ul>
<p>Given the last example, you now know how Kinepolis got it right! :)</p>
</section>
</section>
<section id="name-checker-services" class="level3">
<h3 class="anchored" data-anchor-id="name-checker-services">Name checker services</h3>
<p>There exist services that bring name information to your fingertips. <strong>Namsor</strong> is such an example, try it out <a href="https://namsor.app/">here</a> - maybe even <a href="https://github.com/SinanPolatoglu/namsor">using R</a>.</p>
<hr>
<div class="small">
<p><em>Hu, Y., Hu, C., Tran, T., Kasturi, T., Joseph, E., &amp; Gillingham, M. (2021). What’s in a name?–gender classification of names with character based machine learning models. Data Mining and Knowledge Discovery, 35(4), 1537-1563.</em></p>
<p><em>Mateos, P. (2007). A review of name‐based ethnicity classification methods and their potential in population studies. Population, Space and Place, 13(4), 243-263.</em></p>
</div>


</section>

 ]]></description>
  <guid>https://sinanpl.github.io/posts/2022-12-name-origin/index.html</guid>
  <pubDate>Sat, 10 Dec 2022 23:00:00 GMT</pubDate>
  <media:content url="https://sinanpl.github.io/posts/2022-12-name-origin/image.png" medium="image" type="image/png" height="106" width="144"/>
</item>
<item>
  <title>UEFA CL draws with Monte Carlo integration</title>
  <link>https://sinanpl.github.io/posts/2022-11-uefa-16-round-monte-carlo/index.html</link>
  <description><![CDATA[ 



<p>UEFA Champions League group stages were finalized this week. Tomorrow, draws for the 16th round matches will take place. This provides an opportunity for predicting which teams are more likely to play against each other.</p>
<p><strong>Sneak peek</strong>: chances are, <strong>Bayern</strong> and <strong>Liverpool</strong> will end up playing against each other.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-predictions" class="anchored">

<div id="mobipidpmg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mobipidpmg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mobipidpmg thead, #mobipidpmg tbody, #mobipidpmg tfoot, #mobipidpmg tr, #mobipidpmg td, #mobipidpmg th {
  border-style: none;
}

#mobipidpmg p {
  margin: 0;
  padding: 0;
}

#mobipidpmg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mobipidpmg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mobipidpmg .gt_title {
  color: #333333;
  font-size: 20px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mobipidpmg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mobipidpmg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mobipidpmg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mobipidpmg .gt_col_headings {
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mobipidpmg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mobipidpmg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mobipidpmg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mobipidpmg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mobipidpmg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mobipidpmg .gt_spanner_row {
  border-bottom-style: hidden;
}

#mobipidpmg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mobipidpmg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mobipidpmg .gt_from_md > :first-child {
  margin-top: 0;
}

#mobipidpmg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mobipidpmg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mobipidpmg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mobipidpmg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mobipidpmg .gt_row_group_first td {
  border-top-width: 2px;
}

#mobipidpmg .gt_row_group_first th {
  border-top-width: 2px;
}

#mobipidpmg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mobipidpmg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mobipidpmg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mobipidpmg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mobipidpmg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mobipidpmg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mobipidpmg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mobipidpmg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mobipidpmg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mobipidpmg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mobipidpmg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mobipidpmg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mobipidpmg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mobipidpmg .gt_left {
  text-align: left;
}

#mobipidpmg .gt_center {
  text-align: center;
}

#mobipidpmg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mobipidpmg .gt_font_normal {
  font-weight: normal;
}

#mobipidpmg .gt_font_bold {
  font-weight: bold;
}

#mobipidpmg .gt_font_italic {
  font-style: italic;
}

#mobipidpmg .gt_super {
  font-size: 65%;
}

#mobipidpmg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mobipidpmg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mobipidpmg .gt_indent_1 {
  text-indent: 5px;
}

#mobipidpmg .gt_indent_2 {
  text-indent: 10px;
}

#mobipidpmg .gt_indent_3 {
  text-indent: 15px;
}

#mobipidpmg .gt_indent_4 {
  text-indent: 20px;
}

#mobipidpmg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption>Table&nbsp;1:  Predictions</caption>
  <colgroup>
    <col>
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
    <col style="width:80px;">
  </colgroup>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Liverpool">Liverpool</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Club Brugge">Club Brugge</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Inter">Inter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Frankfurt">Frankfurt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Milan">Milan</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Leipzig">Leipzig</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Dortmund">Dortmund</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="PSG">PSG</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Napoli</th>
<td headers="stub_1_1 Liverpool" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_1 Club Brugge" class="gt_row gt_center" style="background-color: #ADC2DC; color: #000000;">17.7%</td>
<td headers="stub_1_1 Inter" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_1 Frankfurt" class="gt_row gt_center" style="background-color: #99B5D3; color: #000000;">21.8%</td>
<td headers="stub_1_1 Milan" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_1 Leipzig" class="gt_row gt_center" style="background-color: #9CB7D5; color: #000000;">21.1%</td>
<td headers="stub_1_1 Dortmund" class="gt_row gt_center" style="background-color: #98B4D3; color: #000000;">22.0%</td>
<td headers="stub_1_1 PSG" class="gt_row gt_center" style="background-color: #AEC3DC; color: #000000;">17.4%</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Porto</th>
<td headers="stub_1_2 Liverpool" class="gt_row gt_center" style="background-color: #9FB8D6; color: #000000;">20.7%</td>
<td headers="stub_1_2 Club Brugge" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_2 Inter" class="gt_row gt_center" style="background-color: #C0D0E4; color: #000000;">13.5%</td>
<td headers="stub_1_2 Frankfurt" class="gt_row gt_center" style="background-color: #BECFE3; color: #000000;">13.9%</td>
<td headers="stub_1_2 Milan" class="gt_row gt_center" style="background-color: #BFCFE3; color: #000000;">13.9%</td>
<td headers="stub_1_2 Leipzig" class="gt_row gt_center" style="background-color: #C2D2E5; color: #000000;">13.1%</td>
<td headers="stub_1_2 Dortmund" class="gt_row gt_center" style="background-color: #BDCEE2; color: #000000;">14.3%</td>
<td headers="stub_1_2 PSG" class="gt_row gt_center" style="background-color: #CEDAEA; color: #000000;">10.6%</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">Bayern</th>
<td headers="stub_1_3 Liverpool" class="gt_row gt_center" style="background-color: #4682B4; color: #FFFFFF;">37.7%</td>
<td headers="stub_1_3 Club Brugge" class="gt_row gt_center" style="background-color: #A7BED9; color: #000000;">18.8%</td>
<td headers="stub_1_3 Inter" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_3 Frankfurt" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_3 Milan" class="gt_row gt_center" style="background-color: #90AED0; color: #000000;">23.8%</td>
<td headers="stub_1_3 Leipzig" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_3 Dortmund" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_3 PSG" class="gt_row gt_center" style="background-color: #A3BBD8; color: #000000;">19.7%</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Tottenham</th>
<td headers="stub_1_4 Liverpool" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_4 Club Brugge" class="gt_row gt_center" style="background-color: #C0D0E4; color: #000000;">13.6%</td>
<td headers="stub_1_4 Inter" class="gt_row gt_center" style="background-color: #A4BCD8; color: #000000;">19.5%</td>
<td headers="stub_1_4 Frankfurt" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_4 Milan" class="gt_row gt_center" style="background-color: #AFC4DD; color: #000000;">17.2%</td>
<td headers="stub_1_4 Leipzig" class="gt_row gt_center" style="background-color: #AAC1DB; color: #000000;">18.2%</td>
<td headers="stub_1_4 Dortmund" class="gt_row gt_center" style="background-color: #ABC1DB; color: #000000;">18.0%</td>
<td headers="stub_1_4 PSG" class="gt_row gt_center" style="background-color: #BFD0E4; color: #000000;">13.7%</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Chelsea</th>
<td headers="stub_1_5 Liverpool" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_5 Club Brugge" class="gt_row gt_center" style="background-color: #BFD0E4; color: #000000;">13.7%</td>
<td headers="stub_1_5 Inter" class="gt_row gt_center" style="background-color: #A6BED9; color: #000000;">19.1%</td>
<td headers="stub_1_5 Frankfurt" class="gt_row gt_center" style="background-color: #AAC0DA; color: #000000;">18.3%</td>
<td headers="stub_1_5 Milan" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_5 Leipzig" class="gt_row gt_center" style="background-color: #ADC3DC; color: #000000;">17.5%</td>
<td headers="stub_1_5 Dortmund" class="gt_row gt_center" style="background-color: #ACC2DC; color: #000000;">17.7%</td>
<td headers="stub_1_5 PSG" class="gt_row gt_center" style="background-color: #BFD0E4; color: #000000;">13.7%</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">Real Madrid</th>
<td headers="stub_1_6 Liverpool" class="gt_row gt_center" style="background-color: #9CB7D5; color: #000000;">21.2%</td>
<td headers="stub_1_6 Club Brugge" class="gt_row gt_center" style="background-color: #CCD9E9; color: #000000;">11.0%</td>
<td headers="stub_1_6 Inter" class="gt_row gt_center" style="background-color: #BACCE1; color: #000000;">14.7%</td>
<td headers="stub_1_6 Frankfurt" class="gt_row gt_center" style="background-color: #BDCEE3; color: #000000;">14.2%</td>
<td headers="stub_1_6 Milan" class="gt_row gt_center" style="background-color: #BECFE3; color: #000000;">13.9%</td>
<td headers="stub_1_6 Leipzig" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_6 Dortmund" class="gt_row gt_center" style="background-color: #BFD0E4; color: #000000;">13.7%</td>
<td headers="stub_1_6 PSG" class="gt_row gt_center" style="background-color: #CBD8E9; color: #000000;">11.2%</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">Man City</th>
<td headers="stub_1_7 Liverpool" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_7 Club Brugge" class="gt_row gt_center" style="background-color: #BDCEE3; color: #000000;">14.2%</td>
<td headers="stub_1_7 Inter" class="gt_row gt_center" style="background-color: #A5BDD8; color: #000000;">19.3%</td>
<td headers="stub_1_7 Frankfurt" class="gt_row gt_center" style="background-color: #AAC0DB; color: #000000;">18.2%</td>
<td headers="stub_1_7 Milan" class="gt_row gt_center" style="background-color: #AFC4DD; color: #000000;">17.2%</td>
<td headers="stub_1_7 Leipzig" class="gt_row gt_center" style="background-color: #AEC4DC; color: #000000;">17.3%</td>
<td headers="stub_1_7 Dortmund" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td>
<td headers="stub_1_7 PSG" class="gt_row gt_center" style="background-color: #BFD0E4; color: #000000;">13.7%</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">Benfica</th>
<td headers="stub_1_8 Liverpool" class="gt_row gt_center" style="background-color: #9FB9D6; color: #000000;">20.5%</td>
<td headers="stub_1_8 Club Brugge" class="gt_row gt_center" style="background-color: #CCD9E9; color: #000000;">11.0%</td>
<td headers="stub_1_8 Inter" class="gt_row gt_center" style="background-color: #BFCFE3; color: #000000;">13.8%</td>
<td headers="stub_1_8 Frankfurt" class="gt_row gt_center" style="background-color: #C0D0E4; color: #000000;">13.5%</td>
<td headers="stub_1_8 Milan" class="gt_row gt_center" style="background-color: #BECEE3; color: #000000;">14.1%</td>
<td headers="stub_1_8 Leipzig" class="gt_row gt_center" style="background-color: #C3D3E5; color: #000000;">12.8%</td>
<td headers="stub_1_8 Dortmund" class="gt_row gt_center" style="background-color: #BCCDE2; color: #000000;">14.3%</td>
<td headers="stub_1_8 PSG" class="gt_row gt_center" style="background-color: rgba(255,255,255,0); color: #000000;"><br></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<section id="how-does-the-draw-work" class="level3">
<h3 class="anchored" data-anchor-id="how-does-the-draw-work">How does the draw work?</h3>
<ol type="1">
<li>Group winners and runners-up in the group stages are separated into two pots.</li>
<li>A team is randomly drawn from the first pot.</li>
<li>The second pot is then rearranged to avoid encounters between teams from the same country or the same group</li>
<li>The second team is drawn</li>
<li>Steps 2 - 4 are repeated until every team is drawn</li>
</ol>
<p>The pots for tomorrow are as follows.</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">group</th>
<th style="text-align: left;">Pot 1</th>
<th style="text-align: left;">Pot 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">Napoli</td>
<td style="text-align: left;">Liverpool</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">Porto</td>
<td style="text-align: left;">Club Brugge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">Bayern</td>
<td style="text-align: left;">Inter</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: left;">Tottenham</td>
<td style="text-align: left;">Frankfurt</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E</td>
<td style="text-align: left;">Chelsea</td>
<td style="text-align: left;">Milan</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">Real Madrid</td>
<td style="text-align: left;">Leipzig</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: left;">Man City</td>
<td style="text-align: left;">Dortmund</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">Benfica</td>
<td style="text-align: left;">Paris Saint-Germain</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>More details on the <a href="https://www.uefa.com/uefachampionsleague/news/027b-167f56b5d273-0267361a8b28-1000">UEFA website</a>.</p>
</section>
<section id="caveats" class="level3">
<h3 class="anchored" data-anchor-id="caveats">Caveats</h3>
<p>While the process is relatively simple, probability calculations are less so. Some reasons below.</p>
<ul>
<li><p><strong>Asymmetric encounter probabilities</strong>. For example, for Bayern, Club Brugge is 1 of the 4 potential opponents - whereas for Club Brugge, Bayern is 1 of the 7 potential opponents.</p></li>
<li><p><strong>Dependence on previous draws</strong>. Each draw impacts subsequent event probabilities. If Club Brugge is drawn against a different team, Bayern only has 3 potential opponents left - which impacts probabilities.</p></li>
<li><p>It is possible that the sequence of draws results in the <strong>final draws violating the rules</strong>. Consider the scenario below, where the first 7 draws are:</p>
<table class="table">
<thead>
<tr class="header">
<th>Draw</th>
<th>Team 1</th>
<th>Team 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Benfica</td>
<td>Club Brugge</td>
</tr>
<tr class="even">
<td>2</td>
<td>Napoli</td>
<td>Frankfurt</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Real Madrid</td>
<td>Paris Saint-Germain</td>
</tr>
<tr class="even">
<td>4</td>
<td>Man City</td>
<td>Leipzig</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Tottenham</td>
<td>Milan</td>
</tr>
<tr class="even">
<td>6</td>
<td>Porto</td>
<td>Liverpool</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Chelsea</td>
<td>Inter</td>
</tr>
</tbody>
</table>
<p>The issue here is that the remaining teams are Bayern and Dortmund, which are both German teams and cannot play against each other. In other words, in this case the draw has to be restarted.</p></li>
</ul>
</section>
<section id="monte-carlo" class="level3">
<h3 class="anchored" data-anchor-id="monte-carlo">Monte Carlo</h3>
<p>A straightforward solution for aforementioned complexities is estimating encounter probabilities using Monte Carlo integration. Simply put, we <strong>simulate</strong> the 16th round draw <strong>many times</strong> and <strong>count</strong> to what extent 1) violations and 2) team encounters occur.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Show me some code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Let’s start with mimicking a single draw.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">standing =</span> tbl_standing) {</span>
<span id="cb1-2"></span>
<span id="cb1-3">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make pots</span></span>
<span id="cb1-4">    pot1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> standing[standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rnk <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, ][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"team"</span>]]</span>
<span id="cb1-5">    pot2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> standing[standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>rnk <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, ][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"team"</span>]]</span>
<span id="cb1-6"></span>
<span id="cb1-7">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># init 16round schedule df</span></span>
<span id="cb1-8">    schedule <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">t1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">character</span>(), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">t2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">character</span>())</span>
<span id="cb1-9"></span>
<span id="cb1-10">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># repeat draw 8 times</span></span>
<span id="cb1-11">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (drawing <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>) {</span>
<span id="cb1-12">        draw1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(pot1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-13">        draw1_gr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> standing[standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>team <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> draw1, ][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"group"</span>]]</span>
<span id="cb1-14">        draw1_cn <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> standing[standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>team <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> draw1, ][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"country"</span>]]</span>
<span id="cb1-15"></span>
<span id="cb1-16">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># rearrange to subset of pot 2</span></span>
<span id="cb1-17">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1) team in (updated) pot; 2) not of same country / group</span></span>
<span id="cb1-18">        pot2_subset <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> standing[</span>
<span id="cb1-19">            (</span>
<span id="cb1-20">                standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>team <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> pot2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-21">                    standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> draw1_cn <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-22">                    standing<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>group <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> draw1_gr</span>
<span id="cb1-23">            ),</span>
<span id="cb1-24">        ][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"team"</span>]]</span>
<span id="cb1-25"></span>
<span id="cb1-26">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># draw 2nd team</span></span>
<span id="cb1-27">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># if pot2_subset is empty - this will throw an sample.int error</span></span>
<span id="cb1-28">        draw2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(pot2_subset, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-29"></span>
<span id="cb1-30">        pot1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pot1[pot1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> draw1]</span>
<span id="cb1-31">        pot2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pot2[pot2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> draw2]</span>
<span id="cb1-32">        schedule <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(schedule, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">t1 =</span> draw1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">t2 =</span> draw2))</span>
<span id="cb1-33">    }</span>
<span id="cb1-34">    schedule</span>
<span id="cb1-35">}</span>
<span id="cb1-36"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>bytecode<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0x135689488</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span></code></pre></div>
<p>Where <code>tbl_standing</code> looks like this</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">rnk</th>
<th style="text-align: left;">team</th>
<th style="text-align: left;">country</th>
<th style="text-align: left;">group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Bayern</td>
<td style="text-align: left;">GER</td>
<td style="text-align: left;">C</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Benfica</td>
<td style="text-align: left;">POR</td>
<td style="text-align: left;">H</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Chelsea</td>
<td style="text-align: left;">ENG</td>
<td style="text-align: left;">E</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Man City</td>
<td style="text-align: left;">ENG</td>
<td style="text-align: left;">G</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Napoli</td>
<td style="text-align: left;">ITA</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Porto</td>
<td style="text-align: left;">POR</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Real Madrid</td>
<td style="text-align: left;">ESP</td>
<td style="text-align: left;">F</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Tottenham</td>
<td style="text-align: left;">ENG</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Club Brugge</td>
<td style="text-align: left;">BEL</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Dortmund</td>
<td style="text-align: left;">GER</td>
<td style="text-align: left;">G</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Frankfurt</td>
<td style="text-align: left;">GER</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Inter</td>
<td style="text-align: left;">ITA</td>
<td style="text-align: left;">C</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Leipzig</td>
<td style="text-align: left;">GER</td>
<td style="text-align: left;">F</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Liverpool</td>
<td style="text-align: left;">ENG</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Milan</td>
<td style="text-align: left;">ITA</td>
<td style="text-align: left;">E</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Paris Saint-Germain</td>
<td style="text-align: left;">FRA</td>
<td style="text-align: left;">H</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The results of a single draw of this function is then:</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">t1</th>
<th style="text-align: left;">t2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Bayern</td>
<td style="text-align: left;">Paris Saint-Germain</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tottenham</td>
<td style="text-align: left;">Club Brugge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chelsea</td>
<td style="text-align: left;">Dortmund</td>
</tr>
<tr class="even">
<td style="text-align: left;">Napoli</td>
<td style="text-align: left;">Leipzig</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Man City</td>
<td style="text-align: left;">Milan</td>
</tr>
<tr class="even">
<td style="text-align: left;">Real Madrid</td>
<td style="text-align: left;">Frankfurt</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Benfica</td>
<td style="text-align: left;">Inter</td>
</tr>
<tr class="even">
<td style="text-align: left;">Porto</td>
<td style="text-align: left;">Liverpool</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>In the end, Monte Carlo is about repeating the draw many times and calculating relative frequencies - accounting for potential errors due to the described problems.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">NERRORS <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb2-2">NSIM <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10000</span></span>
<span id="cb2-3">iter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>NSIM</span>
<span id="cb2-4"></span>
<span id="cb2-5">results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(iter, <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(i) {</span>
<span id="cb2-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tryCatch</span>(</span>
<span id="cb2-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expr =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">draw_ko_phase</span>(),</span>
<span id="cb2-8">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">error =</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(err) {</span>
<span id="cb2-9">            NERRORS <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;&lt;-</span> NERRORS <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb2-10">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>)</span>
<span id="cb2-11">        }</span>
<span id="cb2-12">    )</span>
<span id="cb2-13">})</span>
<span id="cb2-14"></span>
<span id="cb2-15">results <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-17">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(t1, t2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-18">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (NSIM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> NERRORS))</span></code></pre></div>
</div>
</div>
</div>
</div>
<p>Firstly, the <strong>probability of a restart</strong> of the draw is <strong>not to be underestimated</strong>! There is a <strong>25.7%</strong> chance of having a draw that results in a scenario where the final teams in the pots are from the same group / country.</p>
<p>For the successful draws, estimations are presented in Table&nbsp;1. The values indicate the probability of encountering the opponent. Chances are that the draw will result in a <strong>16th round match between Bayern and Liverpool (37.7%)</strong>. In the context of Monte Carlo this can be interpreted as</p>
<blockquote class="blockquote">
<p>From all the successful draws in the many repeats, 37.7% of the scenario’s had an encounter between Bayern and Liverpool.</p>
</blockquote>
</section>
<section id="recap" class="level3">
<h3 class="anchored" data-anchor-id="recap">Recap</h3>
<ul>
<li><p>UEFA’s restrictive rules can lead to imbalanced encounter probabilities.</p></li>
<li><p>In literature some corrections are described. See for example <a href="https://arxiv.org/abs/2205.06578">Robers &amp; Rosenthal (2022)</a>.</p></li>
<li><p>In many complex situations Monte Carlo simulation is a very flexible method to obtain probabilities.</p></li>
</ul>


</section>

 ]]></description>
  <category>R</category>
  <category>statistics</category>
  <guid>https://sinanpl.github.io/posts/2022-11-uefa-16-round-monte-carlo/index.html</guid>
  <pubDate>Sat, 05 Nov 2022 23:00:00 GMT</pubDate>
  <media:content url="https://sinanpl.github.io/posts/2022-11-uefa-16-round-monte-carlo/image.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Birthdays in Belgium</title>
  <link>https://sinanpl.github.io/posts/2022-07-belgian-birthdays/index.html</link>
  <description><![CDATA[ 



<blockquote class="blockquote">
<p><em>UPDATE</em><br>
Based on <a href="https://www.nieuwsblad.be/cnt/dmf20230509_97670703">this article</a>, I made an update for the heatmap which is shared <a href="._rproj_be_birthdays/heatmap.html">here</a></p>
</blockquote>
<hr>
<p>Statbel, the Belgian statistical office, recently published an update of open data on birthdays in Belgium. I took the time to explore the data a bit. It reminded me of this neat <a href="https://public.tableau.com/app/profile/bo.mccready8742/viz/TheMostCommonBirthdaysintheUnitedStates/CommonBirthdays">dashboard</a> I drew some inspiration from.</p>
<p>Compared to the US birthdays, the Belgian data is more granular and provides more opportunities to retrieve some insights in <strong>birth patterns</strong>. It is surprising how giving birth is <strong>less random</strong> than would one would initially assume.</p>
<p>Most importantly, I observed:</p>
<ul>
<li>Effect of weekday: giving birth during weekend is far less common than giving birth on a weekday.</li>
<li>Effect of seasons: people reproduce more frequently between October - December. As a consequence, more people are born between August - September.</li>
</ul>
<p>Have a look at the storyboard I created below. I start with how the time series data look like and explore some insights with more adequate visualizations.</p>
<section id="storyboard" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="storyboard">Storyboard</h4>
<p>Also available <a href="./_rproj_be_birthdays/birthdays_storyboard.html">here</a> in full screen.</p>
<div class="column-body-outset">
<iframe src="_rproj_be_birthdays/birthdays_storyboard.html" height="600" width="100%">
</iframe>
</div>


</section>

 ]]></description>
  <category>R</category>
  <category>flexdashboard</category>
  <category>python</category>
  <category>altair</category>
  <guid>https://sinanpl.github.io/posts/2022-07-belgian-birthdays/index.html</guid>
  <pubDate>Sat, 16 Jul 2022 22:00:00 GMT</pubDate>
  <media:content url="https://sinanpl.github.io/posts/2022-07-belgian-birthdays/image.png" medium="image" type="image/png" height="64" width="144"/>
</item>
</channel>
</rss>
